<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Phantom Flag</title>
    <script>
        // Anti-debugging technique: Detect debugger and break execution
        function detectDebugger() {
            const startTime = Date.now();
            debugger;
            const endTime = Date.now();
            if (endTime - startTime > 100) {
                alert("Debugger detected! Closing the page...");
                window.close();
            }
        }

        // Obfuscated flag generation
        function generateFlag() {
            const part1 = "Ph4nt0m_";
            const part2 = "Fl4g_";
            const part3 = "1s_H3r3";
            return part1 + part2 + part3;
        }

        // Asynchronous flag obfuscation
        async function obfuscateFlag() {
            const flag = generateFlag();
            let obfuscatedFlag = "";
            for (let i = 0; i < flag.length; i++) {
                obfuscatedFlag += String.fromCharCode(flag.charCodeAt(i) ^ 0x0F);
                await new Promise(resolve => setTimeout(resolve, 100)); // Delay to make it harder
            }
            return obfuscatedFlag;
        }

        // Dynamic DOM manipulation to hide the flag
        async function hideFlag() {
            const obfuscatedFlag = await obfuscateFlag();
            const div = document.createElement("div");
            div.id = "phantom";
            div.style.display = "none";
            div.innerText = obfuscatedFlag;
            document.body.appendChild(div);
        }

        // Anti-debugging: Continuously check for debugger
        setInterval(detectDebugger, 1000);

        // Start the process
        hideFlag();
    </script>
</head>
<body>
    <h1>The Phantom Flag</h1>
    <p>Find the flag hidden in the shadows...</p>
</body>
</html>
